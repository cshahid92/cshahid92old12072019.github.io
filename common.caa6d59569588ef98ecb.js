(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"3zLz":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e.prototype.ngOnInit=function(){},e}()},6233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("ug5D"))},CB3U:function(e,t,n){"use strict";n.r(t);var r=n("ZBkt"),l=n("MGeu");n.d(t,"AngularFireAuth",function(){return r.a}),n.d(t,"AngularFireAuthModule",function(){return l.a})},Oipj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("CB3U"))},TqVw:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e.prototype.Distributor=function(e,t,n,r,l,u,o,a,i,s,c){this.$key=e,this.displayName=t,this.emailid=n,this.password=r,this.contactNo=l,this.role=u,this.regDate=o,this.dealerLocation=a,this.city=i,this.url=s,this.status=c},e}()},kmKP:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n("Oipj"),n("6233");var r=n("TqVw"),l=n("F/XL"),u=n("67Y/"),o=n("15JJ"),a=n("CcnG"),i=n("ZBkt"),s=n("3iKN"),c=n("ZYCi"),f=function(){function e(e,t,n){var a=this;this.afAuth=e,this.afDb=t,this.router=n,this.selectdistributor=new r.a,this.uid=this.afAuth.authState.pipe(Object(u.a)(function(e){return e?e.uid:null})),this.isAdmin=this.uid.pipe(Object(o.a)(function(e){return e?(console.log(a.afDb.object("/retailers/"+e+"/role").valueChanges()),a.afDb.object("/retailers/"+e+"/role").valueChanges()):Object(l.a)(!1)}))}return e.prototype.loginUser=function(e,t){var n=this,r=!1;return this.afAuth.auth.signInWithEmailAndPassword(e,t).then(function(e){var t=e.user.uid;localStorage.setItem("userId",e.user.uid);var l=n.getUserRole(t);console.log("User role from login metheod..",l),r=!0,n.message=t}).catch(function(e){n.message=e.message}),console.log(r,"from service class"),r},e.prototype.loginUser1=function(e,t){var n=this;this.afAuth.auth.signInWithEmailAndPassword(e,t).then(function(e){var t=e.user.uid;localStorage.setItem("userId",e.user.uid),localStorage.setItem("isUserLogin","true");var r=n.getUserRole(t);console.log("User role from login metheod..",r),n.message=t,n.router.navigate(["/dashboard"])}).catch(function(e){n.message=e.message,alert(e.message)})},e.prototype.isAdminUser=function(){return!0},e.prototype.signOut=function(){this.afAuth.auth.signOut()},e.prototype.getUserRole=function(e){var t=this;this.afDb.object("retailers/"+e+"/role").valueChanges().subscribe(function(n){return t.getUserName(e),console.log("user value from getUserRole..is..",n),"true"===n?(console.log("Inside the if codition of getUserRole",n),localStorage.setItem("isAdmin","true"),!0):(console.log("user details",n),localStorage.setItem("isAdmin","false"),!1)})},e.prototype.getUserName=function(e){return this.afDb.object("retailers/"+e+"/displayName").valueChanges().subscribe(function(e){var t=String(e);localStorage.setItem("userName",t)})},e.prototype.getUserNameValue=function(){return localStorage.getItem("userName")},e.prototype.getUserRoleValue=function(){return localStorage.getItem("isAdmin")},e.prototype.getUserId=function(){return localStorage.getItem("userId")},e.prototype.getUserDetails=function(e){return this.distributor=null,this.afDb.object("retailers/"+e).valueChanges().subscribe(function(e){console.log("user details",e.role)})},e.prototype.getUserFullDetails=function(e){return this.distributor=null,this.afDb.object("retailers/"+e).valueChanges().subscribe(function(e){console.log("user details",e)})},e.prototype.login=function(e,t){return n=this,void 0,l=function(){var n,r,l=this;return function(e,t){var n,r,l,u,o={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(l=2&u[0]?r.return:u[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,u[1])).done)return l;switch(r=0,l&&(u=[2&u[0],l.value]),u[0]){case 0:case 1:l=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(l=(l=o.trys).length>0&&l[l.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!l||u[1]>l[0]&&u[1]<l[3])){o.label=u[1];break}if(6===u[0]&&o.label<l[1]){o.label=l[1],l=u;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(u);break}l[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(a){u=[6,a],r=0}finally{n=l=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.afAuth.auth.signInWithEmailAndPassword(e,t).then(function(e){var t=e.user.uid;localStorage.setItem("userId",e.user.uid);var r=l.getUserRole(t);console.log("User role from login metheod..",r),n=!0,l.message=t}).catch(function(e){l.message=e.message,n=!1})];case 1:return u.sent(),[3,3];case 2:return r=u.sent(),alert("Error!"+r.message),n=!1,[3,3];case 3:return[2,n]}})},new((r=void 0)||(r=Promise))(function(e,t){function u(e){try{a(l.next(e))}catch(n){t(n)}}function o(e){try{a(l.throw(e))}catch(n){t(n)}}function a(t){t.done?e(t.value):new r(function(e){e(t.value)}).then(u,o)}a((l=l.apply(n,[])).next())});var n,r,l},e.prototype.resetPassword=function(e){e||alert("Type in your email first"),this.afAuth.auth.sendPasswordResetEmail(e).then(function(){return alert("A password reset link has been sent to your email address")},function(e){return alert(e)}).catch(function(e){return alert("An error occurred while attempting to reset your password")})},e.prototype.updatePassword=function(e){this.afAuth.auth.currentUser.updatePassword(e).then(function(e){console.log(e),alert("password updated")}).catch(function(e){console.log(e),alert("Some thing went wrong...")})},e.ngInjectableDef=a.defineInjectable({factory:function(){return new e(a.inject(i.a),a.inject(s.a),a.inject(c.l))},token:e,providedIn:"root"}),e}()},rMXk:function(e,t,n){"use strict";var r=n("CcnG"),l=n("ZYCi"),u=n("Ip0R");n("3zLz"),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var o=r["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function a(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(e()(),r["\u0275eld"](1,0,null,null,12,"div",[["class","col-xl-12"]],null,null,null,null,null)),(e()(),r["\u0275eld"](2,0,null,null,1,"h2",[["class","page-header"]],null,null,null,null,null)),(e()(),r["\u0275ted"](3,null,[" "," "])),(e()(),r["\u0275eld"](4,0,null,null,9,"ol",[["class","breadcrumb"]],null,null,null,null,null)),(e()(),r["\u0275eld"](5,0,null,null,5,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(e()(),r["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-dashboard"]],null,null,null,null,null)),(e()(),r["\u0275eld"](7,0,null,null,3,"a",[["href","Javascript:void(0)"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==r["\u0275nov"](e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l},null,null)),r["\u0275did"](8,671744,null,0,l.o,[l.l,l.a,u.j],{routerLink:[0,"routerLink"]},null),r["\u0275pad"](9,1),(e()(),r["\u0275ted"](-1,null,["Dashboard"])),(e()(),r["\u0275eld"](11,0,null,null,2,"li",[["class","breadcrumb-item active"]],null,null,null,null,null)),(e()(),r["\u0275eld"](12,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(e()(),r["\u0275ted"](13,null,[" ",""]))],function(e,t){var n=e(t,9,0,"/dashboard");e(t,8,0,n)},function(e,t){var n=t.component;e(t,3,0,n.heading),e(t,7,0,r["\u0275nov"](t,8).target,r["\u0275nov"](t,8).href),e(t,12,0,r["\u0275inlineInterpolate"](1,"fa ",n.icon,"")),e(t,13,0,n.heading)})}},ug5D:function(e,t,n){"use strict";n.r(t);var r=n("3iKN"),l=n("r1H1"),u=n("ajRK"),o=n("TaJz"),a=n("RgTm"),i=n("o23d"),s=n("AkMW"),c=n("aEbr");n.d(t,"AngularFireDatabase",function(){return r.a}),n.d(t,"RealtimeDatabaseURL",function(){return r.b}),n.d(t,"listChanges",function(){return l.a}),n.d(t,"createListReference",function(){return u.a}),n.d(t,"snapshotChanges",function(){return o.a}),n.d(t,"stateChanges",function(){return a.a}),n.d(t,"auditTrail",function(){return i.a}),n.d(t,"fromRef",function(){return s.a}),n.d(t,"AngularFireDatabaseModule",function(){return c.a})}}]);